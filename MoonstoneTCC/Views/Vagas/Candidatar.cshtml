@model MoonstoneTCC.Models.Candidatura
@{
    ViewData["Title"] = "Candidatar-se";
    var perguntas = ViewBag.Perguntas as List<MoonstoneTCC.Models.PerguntaVaga> ?? new List<MoonstoneTCC.Models.PerguntaVaga>();
}

<style>
    body {
        color: #ffffff;
    }

    .moonstone-container {
        background-color: #2b0048;
        padding: 40px;
        border-radius: 20px;
        box-shadow: 0 0 15px #7c00ff55;
    }

    h2, h5, label {
        color: #ffffff;
    }

    .form-control {
        background-color: #3a0055;
        border: 1px solid #7c00ff;
        color: white;
    }

        .form-control:focus {
            background-color: #3a0055;
            border-color: #9b00ff;
            box-shadow: 0 0 8px #9b00ff88;
            color: white;
        }

    .btn-primary {
        background-color: #9b00ff;
        border: none;
    }

        .btn-primary:hover {
            background-color: #b03bff;
        }

    .btn-outline-secondary {
        color: #ccc;
        border-color: #ccc;
    }

        .btn-outline-secondary:hover {
            background-color: #ffffff11;
            color: #fff;
            border-color: #fff;
        }

    .alert-danger {
        background-color: #660033;
        border-color: #ff3366;
        color: #fff;
    }

    <style >
    /* Corrige visual do campo de busca (sem afetar o restante da Moonstone) */
    header .search-bar,
    .search-container {
        background-color: #ffffff !important;
        border-radius: 50px !important;
        padding: 4px;
        display: flex;
        align-items: center;
    }

        header .search-bar input,
        .search-container input[type="text"] {
            background-color: #ffffff !important;
            color: #000 !important;
            border: none !important;
            border-radius: 40px;
            padding-left: 15px;
        }

            header .search-bar input::placeholder {
                color: #777 !important;
            }

        header .search-bar button,
        .search-container button {
            background: transparent !important;
            border: none !important;
            color: #007bff !important;
            padding-right: 10px;
        }
</style>

</style>

<section class="container py-5">
    <div class="moonstone-container">
        <h2 class="mb-4">Candidatar-se à vaga: <strong>@ViewBag.TituloVaga</strong></h2>

        <form asp-action="Candidatar" method="post">
            <input type="hidden" name="id" value="@ViewBag.VagaId" />

            <!-- VALIDAÇÃO GERAL -->
            @Html.ValidationSummary(true, "", new { @class = "alert alert-danger" })

            <div class="mb-3">
                <label asp-for="NomeCompleto" class="form-label"></label>
                <input asp-for="NomeCompleto" class="form-control" />
                <span asp-validation-for="NomeCompleto" class="text-danger"></span>
            </div>

            <div class="mb-3">
                <label asp-for="CPF" class="form-label"></label>
                <input asp-for="CPF" class="form-control" />
                <span asp-validation-for="CPF" class="text-danger"></span>
            </div>

            <div class="mb-3">
                <label asp-for="RG" class="form-label"></label>
                <input asp-for="RG" class="form-control" />
                <span asp-validation-for="RG" class="text-danger"></span>
            </div>

            <div class="mb-3">
                <label asp-for="Endereco" class="form-label"></label>
                <input asp-for="Endereco" class="form-control" />
                <span asp-validation-for="Endereco" class="text-danger"></span>
            </div>

            <div class="mb-3">
                <label asp-for="Telefone" class="form-label"></label>
                <input asp-for="Telefone" class="form-control" />
                <span asp-validation-for="Telefone" class="text-danger"></span>
            </div>

            <hr class="text-white" />

            <h5 class="mb-3">Perguntas:</h5>
            @for (int i = 0; i < perguntas.Count; i++)
            {
                <div class="mb-3">
                    <label class="form-label">@perguntas[i].Texto</label>
                    <input name="respostas" class="form-control" required />
                </div>
            }

            <div class="d-flex gap-2 mt-4">
                <button type="submit" class="btn btn-primary">Enviar Candidatura</button>
                <a asp-action="Index" class="btn btn-outline-secondary">Cancelar</a>
            </div>
        </form>
    </div>
</section>

@section Scripts {
    <partial name="_ValidationScriptsPartial" />
}
