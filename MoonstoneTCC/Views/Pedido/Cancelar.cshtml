@model MoonstoneTCC.Models.Pedido
@{
    ViewData["Title"] = "Cancelar Pedido";
}

<div class="container mt-5">
    <h2 class="text-light mb-4">
        <i class="fas fa-ban text-danger me-2"></i> Cancelar Pedido <span class="text-warning">#@Model.CodigoPedido</span>
    </h2>

    <div class="card p-4 mb-4" style="background: #3b0056; color: #fff;">
        <p><strong>Data do Pedido:</strong> @Model.PedidoEnviado.ToString("dd/MM/yyyy HH:mm")</p>
        <p><strong>Total:</strong> R$ @Model.PedidoTotal.ToString("N2")</p>

        <p><strong>Jogos:</strong></p>
        <ul>
            @foreach (var item in Model.PedidoItens)
            {
                <li>@item.Jogo.Nome (x@item.Quantidade) - R$ @item.Preco.ToString("N2")</li>
            }
        </ul>

        <form asp-action="CancelarConfirmado" method="post">
            <input type="hidden" name="id" value="@Model.PedidoId" />

            <div class="form-group mb-3">
                <label for="motivo">Motivo do Cancelamento (opcional)</label>
                <textarea name="motivo" id="motivo" class="form-control" rows="4" placeholder="Por que deseja cancelar? (ex: pedido errado, não quero mais, etc)"></textarea>
            </div>

            <button type="submit" class="btn btn-danger">
                <i class="fas fa-times-circle me-1"></i> Confirmar Cancelamento
            </button>
        </form>
    </div>
</div>

